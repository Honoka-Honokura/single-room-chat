<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>大人の遊び場</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="chat-wrapper">
    <header>
      <div id="roomTitle">大人の遊び場</div>

      <div class="header-right">
        <div id="statusText">未入室</div>

        <!-- ★ スマホ用：ハンバーガーメニュー -->
        <button id="mobileMenuBtn" class="mobile-menu-btn" aria-expanded="false">
          <span></span><span></span><span></span>
        </button>
      </div>
    </header>

    <!-- ★ スマホ用：ハンバーガーメニューの中身 -->
    <nav id="mobileMenu" class="mobile-menu">
      <button id="mobileMenuUserListBtn" class="mobile-menu-item">オンライン一覧</button>
      <button id="mobileMenuChangeNameBtn" class="mobile-menu-item">名前変更</button>
      <button id="mobileMenuColorBtn" class="mobile-menu-item">色変更</button>
      <button id="mobileMenuLeaveBtn" class="mobile-menu-item mobile-menu-leave">退室</button>
    </nav>

    <div id="chatInfoBeforeJoin">
      ※ 入室すると、この下にチャットが表示されます。
    </div>

    <div class="chat-notice" id="preLoginNotice">
      <p class="chat-notice-title">⚠ ご利用上の注意</p>
      <ul class="chat-notice-list">
        <li>電話番号・メールアドレス・SNS ID などの <strong>個人情報は書き込まない</strong> でください。</li>
        <li>LINE や X（Twitter）など、<strong>外部サービスのID交換はしない</strong>でください。</li>
        <li><strong>10分間操作がないと自動で退室</strong>します。（再度入室し直してください）</li>
        <li>ブラウザや通信が切れたあと <strong>10分以内に戻った場合は「入室しました」の通知が出ない</strong>ことがあります。</li>
        <li>このチャットはテスト運用中です。不具合などもあるかと思いますがご容赦ください。</li>
      </ul>
    </div>

    <div id="chatLog"></div>

    <div class="footer">
      <div class="name-row" id="joinRow">
        <input id="nameInput" type="text" placeholder="名前を入力" />
        <button id="joinBtn">入室</button>
      </div>

      <div class="color-row">
        <span class="color-label">吹き出し色：</span>

        <label>
          <input type="radio" name="bubbleColor" value="#FFEBEE" checked>
          <span class="color-swatch color-pink"></span>
        </label>
        <label>
          <input type="radio" name="bubbleColor" value="#E3F2FD">
          <span class="color-swatch color-blue"></span>
        </label>
        <label>
          <input type="radio" name="bubbleColor" value="#E8F5E9">
          <span class="color-swatch color-green"></span>
        </label>
        <label>
          <input type="radio" name="bubbleColor" value="#FFF3E0">
          <span class="color-swatch color-orange"></span>
        </label>
      </div>

      <div class="input-row">
        <input id="msgInput" type="text" placeholder="メッセージを入力" disabled />
        <button id="sendBtn" disabled>送信</button>
      </div>

      <div class="template-row">
        <button class="template-btn" data-text="逝きそうです…♡" disabled>寸止め</button>
        <button class="template-btn" data-text="逝きました…♡" disabled>絶頂</button>
        <button id="roll2d6Btn" class="dice-btn" disabled>🎲</button>
        <button id="topicRouletteBtn" class="dice-btn" disabled>お仕置きガチャ</button>
      </div>

      <div class="after-join-controls">
        <button id="renameBtn" disabled>名前変更</button>
        <button id="openColorChangeBtn" disabled>色変更</button>
        <button id="leaveBtn" disabled>退室</button>
      </div>

      <div id="colorChangeArea" style="display:none;">
        <div id="colorChangeWrapper" class="color-change-row"></div>
      </div>

      <div id="typingInfo"></div>
    </div>
  </div>

  <aside class="sidebar">
    <h3>オンライン（最大10人）</h3>
    <div id="userList">誰もいません</div>
  </aside>

  <div id="mobileUserOverlay" class="mobile-user-overlay">
    <div class="mobile-user-panel">
      <div class="mobile-user-header">
        <span>オンライン一覧</span>
        <button id="mobileUserClose" class="mobile-user-close">✕</button>
      </div>
      <div id="mobileUserList" class="mobile-user-list">誰もいません</div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/client.js"></script>
</body>
</html>
